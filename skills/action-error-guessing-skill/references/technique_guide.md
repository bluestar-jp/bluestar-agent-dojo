# Error Guessing Guide

- Purpose: エラー推測法の詳細ガイド
- Scope: 一般的障害パターン、ドメイン別パターン、優先度付け

## 概要

エラー推測法は、テスターの経験と直感に基づいて、エラーが発生しやすい条件を推測しテストケースを作成する技法である。体系的なパターンカタログと組み合わせることで効果を高める。

## 一般的な障害パターン

### 入力値の異常

| パターン | 例 |
| --- | --- |
| null / undefined | null入力、未設定パラメータ |
| 空文字列 | "", " "（空白のみ） |
| ゼロ | 0, 0.0, -0 |
| 負数 | -1, -999, INT_MIN |
| 整数オーバーフロー | INT_MAX + 1, 2^31 |
| 浮動小数点 | NaN, Infinity, 0.1+0.2 |
| 特殊文字 | `<script>`, `'; DROP TABLE` |
| マルチバイト文字 | 絵文字、CJK文字、ゼロ幅文字 |
| 超長文字列 | 1MB文字列、10万文字 |

### データ構造の異常

| パターン | 例 |
| --- | --- |
| 空配列/コレクション | [], {} |
| 単一要素 | [1] |
| 最大要素数 | 配列サイズの上限 |
| 重複要素 | [1, 1, 1] |
| ネスト限界 | 深さ100のJSON |

### 時間・日付の異常

| パターン | 例 |
| --- | --- |
| うるう年 | 2/29、2/28→3/1 |
| 月末 | 1/31, 4/30 |
| タイムゾーン | UTC, JST, サマータイム切替 |
| 未来日/過去日 | 2099/12/31, 1970/01/01 |
| エポック | Unix epoch 0, 2038年問題 |

### 並行処理の異常

| パターン | 例 |
| --- | --- |
| 競合状態 | 同時書き込み |
| デッドロック | リソースの相互待ち |
| タイムアウト | 極端に遅いレスポンス |
| リソース枯渇 | メモリ不足、ファイルディスクリプタ枯渇 |

## ドメイン別の障害パターン

### Web API

- セッション切れ中のリクエスト
- 不正なContent-Type
- レート制限超過
- APIバージョン不一致
- CORS制約

### データベース

- 一意制約違反
- 外部キー制約違反
- トランザクションのロールバック
- コネクションプール枯渇

### ファイル処理

- ファイルが存在しない
- パーミッションなし
- ファイルロック中
- ディスク容量不足
- 不正なエンコーディング

## 優先度付け基準

- **high**: 過去に頻発した障害パターン、セキュリティに関わるパターン
- **medium**: 一般的な入力異常、並行処理の問題
- **low**: 稀な環境条件、特殊なデータパターン
