---
name: error-guessing
description: エラー推測法を適用し、一般的な障害パターンとドメイン知識に基づいてエラーが発生しやすい条件のテストケースを導出する。経験ベーステストとして既知障害パターンを体系的に適用する場合に使用する。
---

# Error Guessing

- Purpose: エラー推測法によるテストケース導出
- Scope: 単一テスト技法の適用

## 実行手順

1. **要件からエラーが発生しやすい領域の特定**
   - 入力処理、データ変換、外部連携等のリスク領域を列挙
   - 過去の類似システムの障害傾向を参照

2. **一般的な障害パターンの適用**
   - null/未定義/空文字列
   - ゼロ、負数、整数オーバーフロー
   - 型不一致、フォーマット不正
   - 特殊文字、マルチバイト文字
   - 空配列、単一要素配列、最大長配列

3. **ドメイン固有の障害パターンの適用**
   - Web: セッション切れ、CSRF、同時ログイン
   - DB: デッドロック、制約違反、トランザクション失敗
   - API: タイムアウト、レート制限、バージョン不一致
   - ファイル: パーミッション、ディスク容量、ロック競合

4. **過去の類似システムの障害事例の参照**
   - 既知のバグパターンカタログとの照合
   - ドメイン固有のリスクチェックリスト参照

5. **テストケースの作成**
   - 各障害パターンに対して具体的な再現条件を設定
   - 期待されるエラーハンドリング動作を明示

## 出力形式

```json
{
  "technique": "error_guessing",
  "requirement_id": "REQ-XXX",
  "test_cases": [
    {
      "id": "TC-EG-001",
      "title": "テストケースのタイトル",
      "preconditions": ["前提条件"],
      "test_data": {
        "input": {},
        "error_pattern": "障害パターン名",
        "category": "general|domain_specific"
      },
      "steps": ["手順1", "手順2"],
      "expected_result": "期待されるエラーハンドリング",
      "priority": "high|medium|low",
      "traceability": {
        "requirement_id": "REQ-XXX",
        "technique": "error_guessing",
        "rationale": "導出根拠"
      }
    }
  ],
  "coverage_analysis": {
    "identified": 0,
    "covered": 0,
    "percentage": 100
  }
}
```

## 自己修正

- **パターンの過剰適用**: 要件に無関係なパターンを除外し、優先度で絞り込み
- **ドメイン知識不足**: ユーザーに過去の障害傾向を確認
- **他技法との重複**: 同値分割/境界値分析と重複するケースを特定し、タグ付け

## 参照

詳細基準: `references/technique_guide.md`
