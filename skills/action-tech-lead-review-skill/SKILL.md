---
name: tech-lead-review
description: テックリード観点でコードをレビューし、アーキテクチャの妥当性、可読性、TDD観点での品質を評価する。
trigger: 実装完了後のコードレビュー、またはproc-structured-dev-skillのPhase 4から呼び出し
---

# テックリードレビュー (Tech Lead Review)

- Purpose: テックリード観点でコードの品質とアーキテクチャを評価する
- Scope: 実装済みコードのレビュー（設計レビューではなく実装レビュー）

## 1. 概要 (Overview)

このスキルは、シニアエンジニア/テックリードの視点でコードをレビューします。`proc-reviewing-code-skill`（4観点並列レビュー）とは異なり、**設計思想と品質**にフォーカスします。

## 2. レビュー観点 (Review Perspectives)

### 2.1 コードの可読性・保守性

- **命名**: 変数名、関数名、クラス名が意図を正確に表現しているか
- **構造**: 適切な抽象化レベルが維持されているか
- **コメント**: 必要十分なコメントがあるか（過剰でも不足でもない）
- **複雑度**: 認知負荷が適切か（関数の長さ、ネストの深さ）

### 2.2 アーキテクチャの妥当性

- **責務分離**: Single Responsibility Principleが守られているか
- **依存関係**: 依存の方向が適切か（上位層が下位層に依存）
- **拡張性**: 将来の変更に対して開かれているか
- **一貫性**: プロジェクト全体のアーキテクチャパターンに従っているか

### 2.3 エラーハンドリングの構造化

- **エラー型**: エラーが適切に型付けされているか
- **伝播**: エラーが適切に上位層に伝播されているか
- **回復**: 回復可能なエラーと致命的エラーが区別されているか
- **ログ**: デバッグに十分な情報がログに記録されているか

### 2.4 TDD観点でのテスト品質

- **仕様としてのテスト**: テストが「動く仕様書」として機能しているか
- **テスト名**: テスト名から仕様が読み取れるか
- **Arrange-Act-Assert**: テストが明確に構造化されているか
- **独立性**: 各テストが独立して実行可能か

## 3. 実行手順 (Execution)

### 3.1 対象コードの把握

**Claude Code ツール**:

- `Read`: 変更されたファイルを読み込み
- `Bash`: `git diff` で変更内容を確認

```bash
# 変更内容の確認
git diff HEAD~1
git diff --name-only HEAD~1
```

### 3.2 レビュー実施

各観点について評価し、問題点と改善提案を整理する。

### 3.3 結果の報告

以下の形式で結果を報告:

```markdown
## Tech Lead Review Results

### Summary
- 総合評価: [Approved / Needs Changes / Rejected]
- 重要度別: Critical: X, High: X, Medium: X, Low: X

### Findings

#### 可読性・保守性
- [問題点と改善提案]

#### アーキテクチャ
- [問題点と改善提案]

#### エラーハンドリング
- [問題点と改善提案]

#### テスト品質
- [問題点と改善提案]

### Recommendations
- [優先度の高い改善項目]
```

## 4. 評価基準 (Evaluation Criteria)

### 総合評価

| 評価 | 基準 |
| ------ | ------ |
| **Approved** | Criticalなし、Highが2件以下 |
| **Needs Changes** | Critical 1件以上、またはHigh 3件以上 |
| **Rejected** | 根本的な設計変更が必要 |

### 重要度

| 重要度 | 説明 |
| -------- | ------ |
| **Critical** | セキュリティ問題、データ損失の可能性、本番障害リスク |
| **High** | パフォーマンス問題、保守性の大幅な低下 |
| **Medium** | ベストプラクティスからの逸脱、軽微な設計問題 |
| **Low** | スタイルの改善、ドキュメントの追加 |

## 5. 使用例 (Usage)

### 単独使用

```text
テックリード観点で以下の変更をレビューしてください:
- src/services/auth.ts
- src/controllers/user.ts
```

### proc-structured-dev-skill からの呼び出し

`proc-structured-dev-skill` の Phase 4 (REVIEW) から自動的に呼び出されます。

## 6. 注意事項

- **建設的なフィードバック**: 問題点だけでなく、改善提案を必ず含める
- **プロジェクトコンテキスト**: プロジェクト固有の規約やパターンを尊重する
- **優先度の明確化**: すべての指摘を同等に扱わず、優先度を明示する

## 変更履歴

- 2026-02-04: 新規作成。proc-structured-dev-skill の Phase 4 をサポート。
