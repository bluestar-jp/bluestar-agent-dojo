# Boundary Value Analysis Technique Guide

- Purpose: ISTQB準拠の境界値分析の詳細ガイド
- Scope: 境界値分析の適用基準、テスト手法、注意事項

## 境界値分析とは

境界値分析は、同値クラスの境界上およびその近傍でバグが発生しやすいという経験則に基づくテスト技法である。同値分割法を補完し、境界付近の値を集中的にテストすることで、off-by-oneエラーなどの典型的な欠陥を検出する。

## 2値境界テスト

ISTQBの基本レベルで推奨される標準的な境界値テスト。各境界について2つのテスト値を使用する。

### 下限境界の例（最小値 = 1）

| テスト値 | 位置 | 期待結果 |
| --- | --- | --- |
| 0 | 境界の直前（無効） | エラー/拒否 |
| 1 | 境界値（有効） | 正常処理 |

### 上限境界の例（最大値 = 100）

| テスト値 | 位置 | 期待結果 |
| --- | --- | --- |
| 100 | 境界値（有効） | 正常処理 |
| 101 | 境界の直後（無効） | エラー/拒否 |

## 3値境界テスト

ISTQBのアドバンスドレベルで扱われる、より厳密な境界値テスト。各境界について3つのテスト値を使用する。

### 下限境界の例（最小値 = 1）

| テスト値 | 位置 | 期待結果 |
| --- | --- | --- |
| 0 | 境界値-1（無効） | エラー/拒否 |
| 1 | 境界値（有効） | 正常処理 |
| 2 | 境界値+1（有効） | 正常処理 |

### 上限境界の例（最大値 = 100）

| テスト値 | 位置 | 期待結果 |
| --- | --- | --- |
| 99 | 境界値-1（有効） | 正常処理 |
| 100 | 境界値（有効） | 正常処理 |
| 101 | 境界値+1（無効） | エラー/拒否 |

## 境界の種類

### 包含境界（Inclusive: <=, >=）

境界値自体が有効値に含まれる。

- 例: 「1以上100以下」 -- 1と100は有効

### 排他境界（Exclusive: <, >）

境界値自体が有効値に含まれない。

- 例: 「1より大きく100未満」 -- 1と100は無効

### 判定の注意点

- 仕様書の表現（「以上」「より大きい」「未満」「以下」）を正確に読み取る
- 曖昧な場合は必ず仕様の確認を行う

## 複数パラメータの境界値組合せ戦略

### 基本戦略（1パラメータずつ）

- テスト対象のパラメータを境界値にし、他のパラメータは公称値（有効範囲の中央付近）を使用
- テストケース数: 各パラメータの境界数 x テスト値数

### 高リスク戦略（複数パラメータ同時）

- 複数パラメータを同時に境界値にする
- テストケース数が爆発するため、リスクベースで組合せを選択する
- 過去の欠陥データや重要度に基づいて判断する

## 特殊な境界値

### 数値の0

- 0は多くのシステムで特殊な扱いを受ける（ゼロ除算、配列インデックス等）
- 0が有効範囲の内外に関わらず、テスト対象に含めることを推奨

### 空文字列

- 長さ0の文字列は境界値として扱う
- null と空文字列は異なる境界として区別する

### 配列の先頭と末尾

- 配列の最初の要素（インデックス0）と最後の要素
- 空配列（要素数0）
- 要素数1の配列（先頭と末尾が同一）

### 日付の境界

- 月末/月初（28, 29, 30, 31日の扱い）
- 年末/年初
- うるう年の2月29日

## 適用時の注意事項

1. **同値分割との併用**: 境界値分析は同値分割法の補完技法であり、単独ではなく組み合わせて使用する
2. **境界の網羅性**: すべての同値クラスの境界を漏れなく特定する
3. **データ型の精度**: 浮動小数点数の場合、精度（小数点以下の桁数）を考慮した境界値を設定する
4. **暗黙の境界**: 仕様に明記されていないシステム制約（整数の最大値、メモリ制限等）も考慮する
