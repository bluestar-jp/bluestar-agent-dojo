# Checklist-Based Testing Guide

- Purpose: チェックリストベーステストの詳細ガイド
- Scope: 汎用/ドメイン別チェックリスト、作成・維持のベストプラクティス

## 概要

チェックリストベーステストは、ドメイン知識や品質基準に基づいた体系的なチェック項目リストからテストケースを導出する技法である。

## 汎用チェックリスト

### 入力検証

- [ ] 必須フィールドが空の場合にエラーとなるか
- [ ] 最大長を超える入力が拒否されるか
- [ ] 不正な文字種が拒否されるか
- [ ] 数値フィールドに非数値が入力された場合の処理
- [ ] 日付フィールドに不正な日付が入力された場合の処理
- [ ] HTMLタグやスクリプトが適切にエスケープされるか

### エラーハンドリング

- [ ] エラーメッセージがユーザーに理解可能か
- [ ] エラー時にシステムが安全な状態を維持するか
- [ ] エラー情報が漏洩していないか（スタックトレース等）
- [ ] リトライロジックが正しく動作するか
- [ ] タイムアウトが適切に設定されているか

### セキュリティ

- [ ] 認証なしでアクセスできないか
- [ ] 認可チェックがバイパスできないか
- [ ] SQLインジェクション対策がされているか
- [ ] XSS対策がされているか
- [ ] CSRFトークンが検証されているか
- [ ] 機密情報がログに出力されていないか

### パフォーマンス

- [ ] レスポンスタイムが許容範囲内か
- [ ] メモリリークがないか
- [ ] 大量データでの処理が許容時間内か
- [ ] 同時アクセスで性能が著しく劣化しないか

### ユーザビリティ

- [ ] 操作手順が直感的か
- [ ] フィードバック（進捗表示等）が適切か
- [ ] エラーからの復帰方法が明確か
- [ ] キーボードのみで操作可能か（アクセシビリティ）

## ドメイン別チェックリスト

### Web API

- [ ] HTTPステータスコードが正しいか
- [ ] レスポンスのContent-Typeが正しいか
- [ ] ページネーションが正しく動作するか
- [ ] フィルタリング/ソートが正しいか
- [ ] レート制限が適用されているか
- [ ] APIバージョニングが正しいか

### データベース

- [ ] トランザクションの一貫性が保たれるか
- [ ] インデックスが適切に使用されているか
- [ ] NULL値の処理が正しいか
- [ ] 文字コードの変換が正しいか
- [ ] バックアップ/リストアが正しく動作するか

### ファイル処理

- [ ] ファイルが存在しない場合のエラー処理
- [ ] ファイルサイズが上限を超えた場合の処理
- [ ] ファイル形式が不正な場合の処理
- [ ] 同時アクセス時のファイルロック処理
- [ ] パスの正規化（ディレクトリトラバーサル対策）

## チェックリストの維持・更新

### 作成時のポイント

- 具体的で検証可能な項目にする
- 優先度を付与する
- ドメイン専門家のレビューを受ける

### 更新タイミング

- 新しい障害が発見されたとき
- 技術スタックが変更されたとき
- 規制要件が変更されたとき
- 定期的な見直し（四半期ごと推奨）

### アンチパターン

- 項目が一般的すぎる（「正しく動作するか」等）
- チェックリストが長すぎる（50項目以上は分割を推奨）
- 更新されずに陳腐化している
